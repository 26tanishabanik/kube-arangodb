{
  "v1": {
    "openAPIV3Schema": {
      "type": "object",
      "properties": {
        "spec": {
          "type": "object",
          "properties": {
            "allowConcurrent": {
              "description": "AllowConcurrent if false, ArangoBackup will not be created when previous Backups are not finished",
              "type": "boolean"
            },
            "maxBackups": {
              "description": "MaxBackups defines how many backups should be kept in history (per deployment). Oldest healthy Backups will be deleted.\nIf not specified or 0 then no limit is applied",
              "type": "integer",
              "format": "int32"
            },
            "schedule": {
              "description": "Schedule is cron-compatible specification of backup schedule\nParsed by https://godoc.org/github.com/robfig/cron",
              "type": "string"
            },
            "selector": {
              "description": "DeploymentSelector Selector definition for selecting matching ArangoBackup Custom Resources.",
              "type": "object",
              "properties": {
                "matchExpressions": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "key": {
                        "type": "string"
                      },
                      "operator": {
                        "type": "string"
                      },
                      "values": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "matchLabels": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            },
            "template": {
              "description": "ArangoBackupTemplate specifies additional options for newly created ArangoBackup",
              "type": "object",
              "properties": {
                "backoff": {
                  "type": "object",
                  "properties": {
                    "iterations": {
                      "description": "Iterations defines number of iterations before reaching MaxDelay. Default to 5",
                      "type": "integer",
                      "format": "int32"
                    },
                    "max_delay": {
                      "description": "MaxDelay defines maximum delay in seconds. Default to 600",
                      "type": "integer",
                      "format": "int32"
                    },
                    "max_iterations": {
                      "description": "MaxIterations defines maximum number of iterations after backoff will be disabled. Default to nil (no limit)",
                      "type": "integer",
                      "format": "int32"
                    },
                    "min_delay": {
                      "description": "MinDelay defines minimum delay in seconds. Default to 30",
                      "type": "integer",
                      "format": "int32"
                    }
                  }
                },
                "lifetime": {
                  "description": "Lifetime is the time after which the backup will be deleted. Format: \"1.5h\" or \"2h45m\".",
                  "type": "object",
                  "properties": {
                    "": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                },
                "options": {
                  "type": "object",
                  "properties": {
                    "allowInconsistent": {
                      "description": "AllowInconsistent flag for Backup creation request.\nIf this value is set to true, backup is taken even if we are not able to acquire lock.",
                      "type": "boolean",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.options.allowInconsistent == oldSelf.spec.template.options.allowInconsistent",
                          "message": "field spec.template.options.allowInconsistent is immutable"
                        }
                      ]
                    },
                    "timeout": {
                      "description": "Timeout for Backup creation request in seconds.",
                      "type": "number",
                      "format": "float",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.options.timeout == oldSelf.spec.template.options.timeout",
                          "message": "field spec.template.options.timeout is immutable"
                        }
                      ]
                    }
                  }
                },
                "upload": {
                  "type": "object",
                  "properties": {
                    "credentialsSecretName": {
                      "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.upload.credentialsSecretName == oldSelf.spec.template.upload.credentialsSecretName",
                          "message": "field spec.template.upload.credentialsSecretName is immutable"
                        }
                      ]
                    },
                    "repositoryURL": {
                      "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.upload.repositoryURL == oldSelf.spec.template.upload.repositoryURL",
                          "message": "field spec.template.upload.repositoryURL is immutable"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "v1alpha": {
    "openAPIV3Schema": {
      "type": "object",
      "properties": {
        "spec": {
          "type": "object",
          "properties": {
            "allowConcurrent": {
              "description": "AllowConcurrent if false, ArangoBackup will not be created when previous Backups are not finished",
              "type": "boolean"
            },
            "maxBackups": {
              "description": "MaxBackups defines how many backups should be kept in history (per deployment). Oldest healthy Backups will be deleted.\nIf not specified or 0 then no limit is applied",
              "type": "integer",
              "format": "int32"
            },
            "schedule": {
              "description": "Schedule is cron-compatible specification of backup schedule\nParsed by https://godoc.org/github.com/robfig/cron",
              "type": "string"
            },
            "selector": {
              "description": "DeploymentSelector Selector definition for selecting matching ArangoBackup Custom Resources.",
              "type": "object",
              "properties": {
                "matchExpressions": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "key": {
                        "type": "string"
                      },
                      "operator": {
                        "type": "string"
                      },
                      "values": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "matchLabels": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            },
            "template": {
              "description": "ArangoBackupTemplate specifies additional options for newly created ArangoBackup",
              "type": "object",
              "properties": {
                "backoff": {
                  "type": "object",
                  "properties": {
                    "iterations": {
                      "description": "Iterations defines number of iterations before reaching MaxDelay. Default to 5",
                      "type": "integer",
                      "format": "int32"
                    },
                    "max_delay": {
                      "description": "MaxDelay defines maximum delay in seconds. Default to 600",
                      "type": "integer",
                      "format": "int32"
                    },
                    "max_iterations": {
                      "description": "MaxIterations defines maximum number of iterations after backoff will be disabled. Default to nil (no limit)",
                      "type": "integer",
                      "format": "int32"
                    },
                    "min_delay": {
                      "description": "MinDelay defines minimum delay in seconds. Default to 30",
                      "type": "integer",
                      "format": "int32"
                    }
                  }
                },
                "lifetime": {
                  "description": "Lifetime is the time after which the backup will be deleted. Format: \"1.5h\" or \"2h45m\".",
                  "type": "object",
                  "properties": {
                    "": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                },
                "options": {
                  "type": "object",
                  "properties": {
                    "allowInconsistent": {
                      "description": "AllowInconsistent flag for Backup creation request.\nIf this value is set to true, backup is taken even if we are not able to acquire lock.",
                      "type": "boolean",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.options.allowInconsistent == oldSelf.spec.template.options.allowInconsistent",
                          "message": "field spec.template.options.allowInconsistent is immutable"
                        }
                      ]
                    },
                    "timeout": {
                      "description": "Timeout for Backup creation request in seconds.",
                      "type": "number",
                      "format": "float",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.options.timeout == oldSelf.spec.template.options.timeout",
                          "message": "field spec.template.options.timeout is immutable"
                        }
                      ]
                    }
                  }
                },
                "upload": {
                  "type": "object",
                  "properties": {
                    "credentialsSecretName": {
                      "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.upload.credentialsSecretName == oldSelf.spec.template.upload.credentialsSecretName",
                          "message": "field spec.template.upload.credentialsSecretName is immutable"
                        }
                      ]
                    },
                    "repositoryURL": {
                      "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.template.upload.repositoryURL == oldSelf.spec.template.upload.repositoryURL",
                          "message": "field spec.template.upload.repositoryURL is immutable"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
