{
  "v1": {
    "openAPIV3Schema": {
      "type": "object",
      "properties": {
        "spec": {
          "type": "object",
          "properties": {
            "backoff": {
              "type": "object",
              "properties": {
                "iterations": {
                  "description": "Iterations defines number of iterations before reaching MaxDelay. Default to 5",
                  "type": "integer",
                  "format": "int32"
                },
                "max_delay": {
                  "description": "MaxDelay defines maximum delay in seconds. Default to 600",
                  "type": "integer",
                  "format": "int32"
                },
                "max_iterations": {
                  "description": "MaxIterations defines maximum number of iterations after backoff will be disabled. Default to nil (no limit)",
                  "type": "integer",
                  "format": "int32"
                },
                "min_delay": {
                  "description": "MinDelay defines minimum delay in seconds. Default to 30",
                  "type": "integer",
                  "format": "int32"
                }
              }
            },
            "deployment": {
              "description": "Deployment describes the deployment which should have a backup",
              "type": "object",
              "properties": {
                "name": {
                  "description": "Name of the ArangoDeployment Custom Resource within same namespace as ArangoBackup Custom Resource.",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.deployment.name == oldSelf.spec.deployment.name",
                      "message": "field spec.deployment.name is immutable"
                    }
                  ]
                }
              }
            },
            "download": {
              "description": "Download Backup download settings",
              "type": "object",
              "properties": {
                "": {
                  "type": "object",
                  "properties": {
                    "credentialsSecretName": {
                      "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.download.credentialsSecretName == oldSelf.spec.download.credentialsSecretName",
                          "message": "field spec.download.credentialsSecretName is immutable"
                        }
                      ]
                    },
                    "repositoryURL": {
                      "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.download.repositoryURL == oldSelf.spec.download.repositoryURL",
                          "message": "field spec.download.repositoryURL is immutable"
                        }
                      ]
                    }
                  }
                },
                "id": {
                  "description": "ID of the ArangoBackup to be downloaded",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.download.id == oldSelf.spec.download.id",
                      "message": "field spec.download.id is immutable"
                    }
                  ]
                }
              }
            },
            "lifetime": {
              "description": "Lifetime is the time after which the backup will be deleted. Format: \"1.5h\" or \"2h45m\".",
              "type": "object",
              "properties": {
                "": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            },
            "options": {
              "description": "Options specifies backup options",
              "type": "object",
              "properties": {
                "allowInconsistent": {
                  "description": "AllowInconsistent flag for Backup creation request.\nIf this value is set to true, backup is taken even if we are not able to acquire lock.",
                  "type": "boolean",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.options.allowInconsistent == oldSelf.spec.options.allowInconsistent",
                      "message": "field spec.options.allowInconsistent is immutable"
                    }
                  ]
                },
                "timeout": {
                  "description": "Timeout for Backup creation request in seconds.",
                  "type": "number",
                  "format": "float",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.options.timeout == oldSelf.spec.options.timeout",
                      "message": "field spec.options.timeout is immutable"
                    }
                  ]
                }
              }
            },
            "policyName": {
              "description": "PolicyName name of the ArangoBackupPolicy which created this Custom Resource",
              "type": "string",
              "x-kubernetes-validations": [
                {
                  "rule": "self.spec.policyName == oldSelf.spec.policyName",
                  "message": "field spec.policyName is immutable"
                }
              ]
            },
            "upload": {
              "description": "Upload Backup upload settings.\nThis field can be removed and created again with different values. This operation will trigger upload again.",
              "type": "object",
              "properties": {
                "credentialsSecretName": {
                  "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.upload.credentialsSecretName == oldSelf.spec.upload.credentialsSecretName",
                      "message": "field spec.upload.credentialsSecretName is immutable"
                    }
                  ]
                },
                "repositoryURL": {
                  "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.upload.repositoryURL == oldSelf.spec.upload.repositoryURL",
                      "message": "field spec.upload.repositoryURL is immutable"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "x-kubernetes-preserve-unknown-fields": true
    }
  },
  "v1alpha": {
    "openAPIV3Schema": {
      "type": "object",
      "properties": {
        "spec": {
          "type": "object",
          "properties": {
            "backoff": {
              "type": "object",
              "properties": {
                "iterations": {
                  "description": "Iterations defines number of iterations before reaching MaxDelay. Default to 5",
                  "type": "integer",
                  "format": "int32"
                },
                "max_delay": {
                  "description": "MaxDelay defines maximum delay in seconds. Default to 600",
                  "type": "integer",
                  "format": "int32"
                },
                "max_iterations": {
                  "description": "MaxIterations defines maximum number of iterations after backoff will be disabled. Default to nil (no limit)",
                  "type": "integer",
                  "format": "int32"
                },
                "min_delay": {
                  "description": "MinDelay defines minimum delay in seconds. Default to 30",
                  "type": "integer",
                  "format": "int32"
                }
              }
            },
            "deployment": {
              "description": "Deployment describes the deployment which should have a backup",
              "type": "object",
              "properties": {
                "name": {
                  "description": "Name of the ArangoDeployment Custom Resource within same namespace as ArangoBackup Custom Resource.",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.deployment.name == oldSelf.spec.deployment.name",
                      "message": "field spec.deployment.name is immutable"
                    }
                  ]
                }
              }
            },
            "download": {
              "description": "Download Backup download settings",
              "type": "object",
              "properties": {
                "": {
                  "type": "object",
                  "properties": {
                    "credentialsSecretName": {
                      "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.download.credentialsSecretName == oldSelf.spec.download.credentialsSecretName",
                          "message": "field spec.download.credentialsSecretName is immutable"
                        }
                      ]
                    },
                    "repositoryURL": {
                      "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                      "type": "string",
                      "x-kubernetes-validations": [
                        {
                          "rule": "self.spec.download.repositoryURL == oldSelf.spec.download.repositoryURL",
                          "message": "field spec.download.repositoryURL is immutable"
                        }
                      ]
                    }
                  }
                },
                "id": {
                  "description": "ID of the ArangoBackup to be downloaded",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.download.id == oldSelf.spec.download.id",
                      "message": "field spec.download.id is immutable"
                    }
                  ]
                }
              }
            },
            "lifetime": {
              "description": "Lifetime is the time after which the backup will be deleted. Format: \"1.5h\" or \"2h45m\".",
              "type": "object",
              "properties": {
                "": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            },
            "options": {
              "description": "Options specifies backup options",
              "type": "object",
              "properties": {
                "allowInconsistent": {
                  "description": "AllowInconsistent flag for Backup creation request.\nIf this value is set to true, backup is taken even if we are not able to acquire lock.",
                  "type": "boolean",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.options.allowInconsistent == oldSelf.spec.options.allowInconsistent",
                      "message": "field spec.options.allowInconsistent is immutable"
                    }
                  ]
                },
                "timeout": {
                  "description": "Timeout for Backup creation request in seconds.",
                  "type": "number",
                  "format": "float",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.options.timeout == oldSelf.spec.options.timeout",
                      "message": "field spec.options.timeout is immutable"
                    }
                  ]
                }
              }
            },
            "policyName": {
              "description": "PolicyName name of the ArangoBackupPolicy which created this Custom Resource",
              "type": "string",
              "x-kubernetes-validations": [
                {
                  "rule": "self.spec.policyName == oldSelf.spec.policyName",
                  "message": "field spec.policyName is immutable"
                }
              ]
            },
            "upload": {
              "description": "Upload Backup upload settings.\nThis field can be removed and created again with different values. This operation will trigger upload again.",
              "type": "object",
              "properties": {
                "credentialsSecretName": {
                  "description": "CredentialsSecretName is the name of the secret used while accessing repository",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.upload.credentialsSecretName == oldSelf.spec.upload.credentialsSecretName",
                      "message": "field spec.upload.credentialsSecretName is immutable"
                    }
                  ]
                },
                "repositoryURL": {
                  "description": "RepositoryURL is the URL path for file storage\nSame repositoryURL needs to be defined in `credentialsSecretName` if protocol is other than local.\nFormat: `\u003cprotocol\u003e:/\u003cpath\u003e`",
                  "type": "string",
                  "x-kubernetes-validations": [
                    {
                      "rule": "self.spec.upload.repositoryURL == oldSelf.spec.upload.repositoryURL",
                      "message": "field spec.upload.repositoryURL is immutable"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "x-kubernetes-preserve-unknown-fields": true
    }
  }
}
